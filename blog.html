<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blog: Mbale Ecological Farm</title>
    <meta
      name="description"
      content="Farm management dashboard. Track your farm activities and finances."
    />
    <!-- Add your CSS and JavaScript files here -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
    />
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css"
      rel="stylesheet"
    />

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="css/w3.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <!-- body -->

  <body>
    <!-- NavBar & BreadCrumb -->
    <div class="container-fluid position-relative p-0">
      <nav
        class="navbar about-nav navbar-expand-lg navbar-light px-4 px-lg-5 py-3 py-lg-0"
      >
        <a href="" class="navbar-brand p-0">
          <img class="logo" src="images/logo-bw.png" alt="Logo" />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarCollapse"
        >
          <span class="fa fa-bars"></span>
        </button>
        <div
          class="collapse navbar-collapse justify-content-end"
          id="navbarCollapse"
        >
          <div class="navbar-nav ms-auto py-0">
            <a href="index.html" class="nav-item nav-link">Home</a>
            <a href="about.html" class="nav-item nav-link">About</a>
            <a href="products.html" class="nav-item nav-link">Products</a>
            <a href="blog.html" class="nav-item nav-link active">Blog</a>
            <a href="contact.html" class="nav-item nav-link">Contact</a>
          </div>
        </div>
      </nav>

      <div class="container-fluid hero-header">
        <div class="container">
          <div class="video-container blog-video about-video">
            <video
              id="myVideo"
              controls=""
              class="w3-image"
              autoplay
              loop
              muted
            >
              <source src="images/fertilizer-making.mp4" type="video/mp4" />
              <source src="images/fertilizer-making.webm" type="video/webm" />
              Your browser does not support the video tag.
            </video>
          </div>
        </div>
        <div class="container about-video-text">
          <div class="row justify-content-center">
            <div class="col-lg-10 text-center breadcrumb-text">
              <h1 class="animated slideInDown">
                Blog: Organic & Natural Farming
              </h1>
              <nav aria-label="breadcrumb">
                <ol class="breadcrumb justify-content-center">
                  <li class="breadcrumb-item">
                    <a href="index.html">Home</a>
                  </li>
                  <li class="breadcrumb-item active" aria-current="page">
                    Blog
                  </li>
                </ol>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- End NavBar -->

    <div class="news">
      <div class="container blog-container">
        <div class="row">
          <div class="col-md-12">
            <div class="text_align_left">
              <h2
                class="story animated-text blog-title text-center"
                id="latest-blog"
              >
                Latest Blog
              </h2>
              <img class="blog-image" id="latest-blog-image" src="" alt="" />
              <h2 id="latest-blog-title" class="text-start"></h2>
            </div>
          </div>
        </div>
        <!-- Add the blog content here -->
        <div class="row">
          <div class="col-md-12" id="latest-blog-content">
            <!-- Blog content will be inserted here -->
          </div>
        </div>
        <!-- End of blog content -->
      

      <section class="">
        <div class="more-blogs">
          <h2 class="latest-blog-title">Recent Blogs</h2>
        </div>
        <div class="row more-blogs-index" id="more-blogs-content">
          <!-- More blogs content will be inserted here -->
        </div>

        <!-- Blog details section -->
        <div class="row" id="blog-details" style="display: none">
          <div class="col-md-12">
            <h2 id="blog-details-title"></h2>
            <div id="blog-details-content">
              <!-- Blog details content will be inserted here -->
            </div>
          </div>
        </div>
      </section>
    </div>
    </div>

    <!-- end news -->

    <!-- Footer Section -->
    <footer class="w3-padding w3-black w3-text-white">
      <br /><br />
      <div class="w3-row-padding">
        <div class="w3-col l4 s12">
          <h4>About Us</h4>
          <p>
            Welcome to Mbale Ecological Farm, where innovation meets tradition
            in sustainable agriculture. Nestled in the heart of Mbale, Uganda,
            we are dedicated to revolutionizing farming practices through our
            commitment to organic methods and community empowerment.
          </p>
        </div>
        <div class="w3-col l4 s12">
          <h4>Quick Links</h4>
          <ul class="w3-ul">
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="service.html">Services</a></li>
            <li><a href="products.html">Products</a></li>
            <li><a href="blog.html">Blog</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </div>
        <div class="w3-col l4 s12">
          <h4>Connect with Us</h4>
          <p>
            Stay up to date with the latest news and updates from Mbale
            Ecological Farm by following us on social media.
          </p>
        </div>
      </div>
      <div class="w3-row-padding w3-center w3-padding-16">
        <div class="w3-col s12">
          <p>&copy; 2024 Mbale Ecological Farm. All Rights Reserved.</p>
        </div>
      </div>
    </footer>

    <!-- Javascript files-->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/jquery-3.0.0.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/bootstrap-datepicker.min.js"></script>
    <script src="js/custom.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        fetch("blogs.json")
          .then((response) => response.json())
          .then((data) => {
            const latestBlog = data.latest_blog[0]; // Adjust to get the first item from the array
            const moreBlogs = data.more_blogs;

            // Insert latest blog content
            document.getElementById("latest-blog-title").textContent =
              latestBlog.title;
            const latestBlogContent = document.getElementById(
              "latest-blog-content"
            );
            document.getElementById("latest-blog-image").src = latestBlog.img;
            document.getElementById("latest-blog-image").alt = latestBlog.title;
            latestBlog.content.forEach((paragraph) => {
              const p = document.createElement("p");
              p.textContent = paragraph;
              latestBlogContent.appendChild(p);
            });

            // Insert more blogs content
            const moreBlogsContent =
              document.getElementById("more-blogs-content");
            moreBlogs.forEach((blog) => {
              const blogElement = document.createElement("div");
              blogElement.classList.add("col-md-3", "blog-card");

              blogElement.innerHTML = `
          <div class="latest">
            <figure><img src="${blog.img}" alt="#" /></figure>
            <span>${blog.date}</span>
            <div class="nostrud">
              <h3 class="text_align_left blog-title-more">${blog.title}</h3>
              <p class="blog-summary-index">${blog.summary}</p>
              <a href="#" class="read_more w3-button w3-margin-top w3-green w3-round-xxlarge w3-padding-large order-5 order-md-4" onclick="showBlogDetails(${blog.id})">Read More</a>
            </div>
          </div>
        `;

              moreBlogsContent.appendChild(blogElement);
            });
            window.showBlogDetails = function (blogId) {
              const blog = [latestBlog, ...moreBlogs].find(
                (b) => b.id === blogId
              );
              if (blog) {
                document.getElementById("latest-blog-title").textContent =
                  blog.title;
                document.getElementById("latest-blog-image").src = blog.img; // Set the image source from the JSON
                document.getElementById("latest-blog-image").alt = blog.title; // Set the alt text as the blog title
                const blogDetailsContent = document.getElementById(
                  "latest-blog-content"
                );
                blogDetailsContent.innerHTML = "";

                // Iterate through the content array
                blog.content.forEach((section) => {
                  // Create and append the h2 element
                  if (section.h2) {
                    const h2 = document.createElement("h2");
                    h2.textContent = section.h2;
                    blogDetailsContent.appendChild(h2);
                  }

                  // Create and append the p element
                  if (section.p) {
                    const p = document.createElement("p");
                    p.textContent = section.p;
                    blogDetailsContent.appendChild(p);
                  }

                  // Create and append the ul and li elements
                  if (section.ul) {
                    const ul = document.createElement("ul");
                    section.ul.forEach((item) => {
                      const li = document.createElement("li");
                      li.textContent = item;
                      ul.appendChild(li);
                    });
                    blogDetailsContent.appendChild(ul);
                  }
                });

                // Update display styles as needed
                document.getElementById("more-blogs-content").style.display =
                  "flex";
                const blogCards = document.querySelectorAll(".blog-card");
                blogCards.forEach((card) => {
                  card.style.display = "block";
                });
              }
            };

            window.showLatestBlog = function () {
              document.getElementById("latest-blog-content").style.display =
                "block";
              document.getElementById("latest-blog-back").style.display =
                "block";
              document.getElementById("more-blogs-content").style.display =
                "flex";
              document.getElementById("blog-details").style.display = "none";

              const blogCards = document.querySelectorAll(".blog-card");
              blogCards.forEach((card) => {
                card.style.display = "block";
              });
            };
          })
          .catch((error) => {
            console.error("Error loading JSON:", error);
          });
      });
    </script>

    <script>
      // Define all UI variables
      const navToggler = document.querySelector(".navbar-toggler");
      const navMenu = document.querySelector(".navbar-collapse");
      const navLinks = document.querySelectorAll(".nav-item");

      // Load all event listeners
      allEventListners();

      // Functions of all event listeners
      function allEventListners() {
        // Toggler click event
        navToggler.addEventListener("click", togglerClick);
        // Nav links click event
        navLinks.forEach((elem) =>
          elem.addEventListener("click", navLinkClick)
        );
      }

      // TogglerClick function
      function togglerClick() {
        navToggler.classList.toggle("active");
        navMenu.classList.toggle("show");
      }

      // NavLinkClick function
      function navLinkClick() {
        if (navMenu.classList.contains("show")) {
          navToggler.click();
        }
      }
    </script>
  </body>
</html>
