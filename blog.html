<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blog: Mbale Ecological Farm</title>
    <meta
      name="description"
      content="Farm management dashboard. Track your farm activities and finances."
    />
    <!-- Add your CSS and JavaScript files here -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
    />
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css"
      rel="stylesheet"
    />

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="css/w3.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <!-- body -->

  <body>
    <!-- NavBar & BreadCrumb -->
    <div class="container-fluid position-relative p-0">
      <nav
        class="navbar about-nav navbar-expand-lg navbar-light px-4 px-lg-5 py-3 py-lg-0"
      >
        <a href="" class="navbar-brand p-0">
          <img class="logo" src="images/logo-bw.png" alt="Logo" />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarCollapse"
        >
          <span class="fa fa-bars"></span>
        </button>
        <div
          class="collapse navbar-collapse justify-content-end"
          id="navbarCollapse"
        >
          <div class="navbar-nav ms-auto py-0">
            <a href="index.html" class="nav-item nav-link">Home</a>
            <a href="about.html" class="nav-item nav-link">About</a>
            <a href="products.html" class="nav-item nav-link">Products</a>
            <a href="blog.html" class="nav-item nav-link active">Blog</a>
            <a href="contact.html" class="nav-item nav-link">Contact</a>
          </div>
        </div>
      </nav>

      <div class="container-fluid hero-header">
        <div class="container">
          <div class="video-container blog-video about-video">
            <video
              id="myVideo"
              controls=""
              class="w3-image"
              autoplay
              loop
              muted
            >
              <source src="images/fertilizer-making.mp4" type="video/mp4" />
              <source src="images/fertilizer-making.webm" type="video/webm" />
              Your browser does not support the video tag.
            </video>
          </div>
        </div>
        <div class="container">
          <div class="row justify-content-center">
            <div class="col-lg-10 text-center breadcrumb-text">
              <h1 class="animated slideInDown">
                Blog: Organic & Natural Farming
              </h1>
              <nav aria-label="breadcrumb">
                <ol class="breadcrumb justify-content-center">
                  <li class="breadcrumb-item">
                    <a href="index.html">Home</a>
                  </li>
                  <li class="breadcrumb-item active" aria-current="page">
                    Blog
                  </li>
                </ol>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- End NavBar -->

    <div class="news">
      <div class="container blog-container">
        <div class="row">
          <div class="col-md-12">
            <div class="text_align_left">
              <h2 class="story animated-text blog-title" id="latest-blog">
                Latest Blog
              </h2>
              <h2 id="latest-blog-title"></h2>
            </div>
          </div>
        </div>
        <!-- Add the blog content here -->
        <div class="row">
          <div class="col-md-12" id="latest-blog-content">
            <!-- Blog content will be inserted here -->
          </div>
        </div>
        <!-- End of blog content -->
      </div>

      <div class="text_align_left">
        <h2
          class="story animated-text blog-title py-4 text-center"
          id="more-blog"
        >
          More Blogs
        </h2>
      </div>

      <section class="w3-padding-8 banner-section banner-plants banner-home">
        <div class="row more-blogs-index" id="more-blogs-content">
          <!-- More blogs content will be inserted here -->
        </div>

        <!-- Blog details section -->
        <div class="row" id="blog-details" style="display: none">
          <div class="col-md-12">
            <h2 id="blog-details-title"></h2>
            <div id="blog-details-content">
              <!-- Blog details content will be inserted here -->
            </div>
            <a
              class="read_more w3-button w3-margin-top w3-green w3-round-xxlarge w3-padding-large order-5 order-md-4"
              onclick="showLatestBlog()"
              >Back to Latest Blog</a
            >
          </div>
        </div>
      </section>
    </div>
    <!-- end news -->

    <!-- Footer Section -->
    <footer class="w3-padding w3-black w3-text-white">
      <br /><br />
      <div class="w3-row-padding">
        <div class="w3-col l4 s12">
          <h4>About Us</h4>
          <p>
            Welcome to Mbale Ecological Farm, where innovation meets tradition
            in sustainable agriculture. Nestled in the heart of Mbale, Uganda,
            we are dedicated to revolutionizing farming practices through our
            commitment to organic methods and community empowerment.
          </p>
        </div>
        <div class="w3-col l4 s12">
          <h4>Quick Links</h4>
          <ul class="w3-ul">
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="service.html">Services</a></li>
            <li><a href="products.html">Products</a></li>
            <li><a href="blog.html">Blog</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </div>
        <div class="w3-col l4 s12">
          <h4>Connect with Us</h4>
          <p>
            Stay up to date with the latest news and updates from Mbale
            Ecological Farm by following us on social media.
          </p>
        </div>
      </div>
      <div class="w3-row-padding w3-center w3-padding-16">
        <div class="w3-col s12">
          <p>&copy; 2024 Mbale Ecological Farm. All Rights Reserved.</p>
        </div>
      </div>
    </footer>

    <!-- Javascript files-->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/jquery-3.0.0.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/bootstrap-datepicker.min.js"></script>
    <script src="js/custom.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        fetch("blogs.json")
          .then((response) => response.json())
          .then((data) => {
            const latestBlog = data.latest_blog[0]; // Adjust to get the first item from the array
            const moreBlogs = data.more_blogs;

            // Insert latest blog content
            document.getElementById("latest-blog-title").textContent =
              latestBlog.title;
            const latestBlogContent = document.getElementById(
              "latest-blog-content"
            );
            latestBlog.content.forEach((paragraph) => {
              const p = document.createElement("p");
              p.textContent = paragraph;
              latestBlogContent.appendChild(p);
            });

            // Insert more blogs content
            const moreBlogsContent =
              document.getElementById("more-blogs-content");
            moreBlogs.forEach((blog) => {
              const blogElement = document.createElement("div");
              blogElement.classList.add("col-md-4", "blog-card");

              blogElement.innerHTML = `
                <div class="latest">
                  <figure><img src="${blog.image}" alt="#" /></figure>
                  <span>${blog.date}</span>
                  <div class="nostrud">
                    <h3>${blog.title}</h3>
                    <p class="blog-summary-index">${blog.summary}</p>
                    <a href="#" class="read_more w3-button w3-margin-top w3-green w3-round-xxlarge w3-padding-large order-5 order-md-4" onclick="showBlogDetails(${blog.id})">Read More</a>
                  </div>
                </div>
              `;

              moreBlogsContent.appendChild(blogElement);
            });

            window.showBlogDetails = function (blogId) {
              const blog = [latestBlog, ...moreBlogs].find(
                (b) => b.id === blogId
              );
              if (blog) {
                document.getElementById("blog-details-title").textContent =
                  blog.title;
                const blogDetailsContent = document.getElementById(
                  "blog-details-content"
                );
                blogDetailsContent.innerHTML = "";
                blog.content.forEach((paragraph) => {
                  const p = document.createElement("p");
                  p.textContent = paragraph;
                  blogDetailsContent.appendChild(p);
                });

                document.getElementById("latest-blog-content").style.display =
                  "none";
                // document.getElementById("latest-blog").style.display = "none";
                // document.getElementById("more-blog").style.display = "none";
                // document.getElementById("latest-blog-title").style.display =
                //   "none";
                document.getElementById("more-blogs-content").style.display =
                  "none";
                document.getElementById("blog-details").style.display = "block";
              }
            };

            window.showLatestBlog = function () {
              document.getElementById("latest-blog-content").style.display =
                "block";
              document.getElementById("more-blogs-content").style.display =
                "flex";
              document.getElementById("blog-details").style.display = "none";

              const blogCards = document.querySelectorAll(".blog-card");
              blogCards.forEach((card) => {
                card.style.display = "block";
              });
            };
          })
          .catch((error) => {
            console.error("Error loading JSON:", error);
          });
      });
    </script>
  </body>
</html>
